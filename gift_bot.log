2025-09-13 17:10:19,050 - telethon.crypto.aes - INFO - libssl detected, it will be used for encryption
2025-09-13 17:10:20,152 - __main__ - INFO - 🚀 شروع مقداردهی ربات...
2025-09-13 17:10:20,153 - __main__ - ERROR - ❌ خطاهای تنظیمات:
2025-09-13 17:10:20,153 - __main__ - ERROR -   • API ID تنظیم نشده است
2025-09-13 17:10:20,153 - __main__ - ERROR -   • API Hash تنظیم نشده است
2025-09-13 17:10:20,153 - __main__ - ERROR -   • Bot Token تنظیم نشده است
2025-09-13 17:10:20,153 - __main__ - ERROR -   • هیچ ادمینی تعریف نشده است
2025-09-13 17:10:20,153 - __main__ - ERROR - ❌ مقداردهی ربات ناموفق بود!
2025-09-13 17:10:20,154 - __main__ - INFO - 👋 خداحافظ!
2025-09-13 17:13:02,638 - telethon.crypto.aes - INFO - libssl detected, it will be used for encryption
2025-09-13 17:13:03,225 - __main__ - INFO - 🚀 شروع مقداردهی ربات...
2025-09-13 17:13:03,361 - __main__ - INFO - ✅ مدیریت دیتابیس راه‌اندازی شد
2025-09-13 17:13:03,377 - __main__ - INFO - ✅ ربات اصلی راه‌اندازی شد
2025-09-13 17:13:03,651 - telethon.network.mtprotosender - INFO - Connecting to 149.154.167.51:443/TcpFull...
2025-09-13 17:13:05,670 - telethon.network.mtprotosender - INFO - Connection to 149.154.167.51:443/TcpFull complete!
2025-09-13 17:13:06,312 - __main__ - WARNING - سشن Telethon یافت نشد. ابتدا telethon_login.py را اجرا کنید تا وارد شوید.
2025-09-13 17:13:06,316 - __main__ - INFO - ✅ مانیتور گیفت راه‌اندازی شد
2025-09-13 17:13:06,330 - __main__ - INFO - ✅ موتور اعلان‌رسانی راه‌اندازی شد
2025-09-13 17:13:06,353 - __main__ - INFO - ✅ پنل ادمین راه‌اندازی شد
2025-09-13 17:13:06,355 - __main__ - INFO - 🎉 مقداردهی ربات با موفقیت تکمیل شد!
2025-09-13 17:13:06,356 - __main__ - INFO - 🔧 تنظیم هندلرها...
2025-09-13 17:13:06,360 - __main__ - INFO - ✅ هندلرها تنظیم شدند
2025-09-13 17:13:06,361 - __main__ - INFO - 🚀 شروع سرویس‌ها...
2025-09-13 17:13:15,132 - __main__ - INFO - ✅ ربات تلگرام شروع شد
2025-09-13 17:13:15,134 - __main__ - INFO - ✅ موتور اعلان‌رسانی شروع شد
2025-09-13 17:13:15,135 - __main__ - INFO - ✅ رصد گیفت‌ها شروع شد
2025-09-13 17:13:15,159 - notification_engine - INFO - 🔔 موتور اعلان‌رسانی شروع شد
2025-09-13 17:13:15,161 - gift_monitor - INFO - 🔍 شروع رصد گیفت‌های ستاره‌ای...
2025-09-13 17:13:16,141 - gift_monitor - INFO - 📝 139 گیفت موجود یافت شد
2025-09-13 17:13:16,153 - __main__ - INFO - 🎉 تمام سرویس‌ها با موفقیت شروع شدند!
2025-09-13 17:13:42,064 - telegram_gift_bot - INFO - کاربر جدید عضو شد: 7531225248
2025-09-13 17:14:22,124 - pyrogram.dispatcher - ERROR - Unhandled exception: 'TelegramGiftBot' object has no attribute 'show_help'
Traceback (most recent call last):
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 370, in _process_packet
    await self._execute_callback(handler, parsed_update)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 407, in _execute_callback
    await handler.callback(self.client, *args)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/handlers/callback_query_handler.py", line 207, in resolve_future_or_callback
    await self.original_callback(client, query, *args)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 339, in callback_handler
    await self.handle_callback(callback_query)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 376, in handle_callback
    await self.show_help(callback_query)
          ^^^^^^^^^^^^^^
AttributeError: 'TelegramGiftBot' object has no attribute 'show_help'
2025-09-13 17:14:46,875 - telegram_gift_bot - INFO - کاربر جدید عضو شد: 6689922327
2025-09-13 17:15:08,728 - pyrogram.dispatcher - ERROR - Unhandled exception: 'TelegramGiftBot' object has no attribute 'set_value'
Traceback (most recent call last):
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 370, in _process_packet
    await self._execute_callback(handler, parsed_update)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 407, in _execute_callback
    await handler.callback(self.client, *args)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/handlers/callback_query_handler.py", line 207, in resolve_future_or_callback
    await self.original_callback(client, query, *args)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 339, in callback_handler
    await self.handle_callback(callback_query)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 380, in handle_callback
    await self.set_value(callback_query, data)
          ^^^^^^^^^^^^^^
AttributeError: 'TelegramGiftBot' object has no attribute 'set_value'
2025-09-13 17:16:24,521 - __main__ - INFO - دریافت سیگنال 2، شروع خاموش کردن...
2025-09-13 17:16:24,607 - __main__ - INFO - 🛑 شروع فرآیند خاموش کردن ربات...
2025-09-13 17:16:24,608 - gift_monitor - INFO - ⏹️ رصد گیفت‌ها متوقف شد
2025-09-13 17:16:24,609 - notification_engine - INFO - 🛑 موتور اعلان‌رسانی متوقف شد
2025-09-13 17:16:24,666 - __main__ - INFO - ✅ ربات با موفقیت خاموش شد
2025-09-13 17:16:59,242 - __main__ - INFO - دریافت سیگنال 2، شروع خاموش کردن...
2025-09-13 17:17:06,310 - __main__ - INFO - 🛑 شروع فرآیند خاموش کردن ربات...
2025-09-13 17:17:06,312 - gift_monitor - INFO - ⏹️ رصد گیفت‌ها متوقف شد
2025-09-13 17:17:06,313 - notification_engine - INFO - 🛑 موتور اعلان‌رسانی متوقف شد
2025-09-13 17:17:06,314 - __main__ - ERROR - خطا در خاموش کردن ربات: Client is already terminated
2025-09-13 17:17:16,041 - telethon.crypto.aes - INFO - libssl detected, it will be used for encryption
2025-09-13 17:17:17,114 - __main__ - INFO - 🚀 شروع مقداردهی ربات...
2025-09-13 17:17:17,119 - __main__ - INFO - ✅ مدیریت دیتابیس راه‌اندازی شد
2025-09-13 17:17:17,123 - __main__ - INFO - ✅ ربات اصلی راه‌اندازی شد
2025-09-13 17:17:17,129 - telethon.network.mtprotosender - INFO - Connecting to 149.154.167.51:443/TcpFull...
2025-09-13 17:17:17,278 - telethon.network.mtprotosender - INFO - Connection to 149.154.167.51:443/TcpFull complete!
2025-09-13 17:17:17,930 - __main__ - WARNING - سشن Telethon یافت نشد. ابتدا telethon_login.py را اجرا کنید تا وارد شوید.
2025-09-13 17:17:17,933 - __main__ - INFO - ✅ مانیتور گیفت راه‌اندازی شد
2025-09-13 17:17:17,940 - __main__ - INFO - ✅ موتور اعلان‌رسانی راه‌اندازی شد
2025-09-13 17:17:17,943 - __main__ - INFO - ✅ پنل ادمین راه‌اندازی شد
2025-09-13 17:17:17,943 - __main__ - INFO - 🎉 مقداردهی ربات با موفقیت تکمیل شد!
2025-09-13 17:17:17,944 - __main__ - INFO - 🔧 تنظیم هندلرها...
2025-09-13 17:17:17,945 - __main__ - INFO - ✅ هندلرها تنظیم شدند
2025-09-13 17:17:17,946 - __main__ - INFO - 🚀 شروع سرویس‌ها...
2025-09-13 17:17:20,387 - __main__ - INFO - ✅ ربات تلگرام شروع شد
2025-09-13 17:17:20,387 - __main__ - INFO - ✅ موتور اعلان‌رسانی شروع شد
2025-09-13 17:17:20,388 - __main__ - INFO - ✅ رصد گیفت‌ها شروع شد
2025-09-13 17:17:20,400 - notification_engine - INFO - 🔔 موتور اعلان‌رسانی شروع شد
2025-09-13 17:17:20,400 - gift_monitor - INFO - 🔍 شروع رصد گیفت‌های ستاره‌ای...
2025-09-13 17:17:20,742 - __main__ - INFO - 🎉 تمام سرویس‌ها با موفقیت شروع شدند!
2025-09-13 17:17:21,350 - gift_monitor - INFO - 📝 139 گیفت موجود یافت شد
2025-09-13 17:17:50,292 - pyrogram.dispatcher - ERROR - Unhandled exception: 'TelegramGiftBot' object has no attribute 'toggle_setting'
Traceback (most recent call last):
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 370, in _process_packet
    await self._execute_callback(handler, parsed_update)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 407, in _execute_callback
    await handler.callback(self.client, *args)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/handlers/callback_query_handler.py", line 207, in resolve_future_or_callback
    await self.original_callback(client, query, *args)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 339, in callback_handler
    await self.handle_callback(callback_query)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 378, in handle_callback
    await self.toggle_setting(callback_query, data)
          ^^^^^^^^^^^^^^^^^^^
AttributeError: 'TelegramGiftBot' object has no attribute 'toggle_setting'
2025-09-13 17:17:52,170 - pyrogram.dispatcher - ERROR - Unhandled exception: 'TelegramGiftBot' object has no attribute 'toggle_setting'
Traceback (most recent call last):
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 370, in _process_packet
    await self._execute_callback(handler, parsed_update)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 407, in _execute_callback
    await handler.callback(self.client, *args)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/handlers/callback_query_handler.py", line 207, in resolve_future_or_callback
    await self.original_callback(client, query, *args)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 339, in callback_handler
    await self.handle_callback(callback_query)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 378, in handle_callback
    await self.toggle_setting(callback_query, data)
          ^^^^^^^^^^^^^^^^^^^
AttributeError: 'TelegramGiftBot' object has no attribute 'toggle_setting'
2025-09-13 17:17:53,220 - pyrogram.dispatcher - ERROR - Unhandled exception: 'TelegramGiftBot' object has no attribute 'set_value'
Traceback (most recent call last):
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 370, in _process_packet
    await self._execute_callback(handler, parsed_update)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 407, in _execute_callback
    await handler.callback(self.client, *args)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/handlers/callback_query_handler.py", line 207, in resolve_future_or_callback
    await self.original_callback(client, query, *args)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 339, in callback_handler
    await self.handle_callback(callback_query)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 380, in handle_callback
    await self.set_value(callback_query, data)
          ^^^^^^^^^^^^^^
AttributeError: 'TelegramGiftBot' object has no attribute 'set_value'
2025-09-13 17:17:53,471 - pyrogram.dispatcher - ERROR - Unhandled exception: 'TelegramGiftBot' object has no attribute 'set_value'
Traceback (most recent call last):
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 370, in _process_packet
    await self._execute_callback(handler, parsed_update)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/dispatcher.py", line 407, in _execute_callback
    await handler.callback(self.client, *args)
  File "/data/data/com.termux/files/usr/lib/python3.12/site-packages/pyrogram/handlers/callback_query_handler.py", line 207, in resolve_future_or_callback
    await self.original_callback(client, query, *args)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 339, in callback_handler
    await self.handle_callback(callback_query)
  File "/storage/emulated/0/Bot/Telegram/New/Gift-Alert-Python/telegram_gift_bot.py", line 380, in handle_callback
    await self.set_value(callback_query, data)
          ^^^^^^^^^^^^^^
AttributeError: 'TelegramGiftBot' object has no attribute 'set_value'
2025-09-13 17:18:00,168 - __main__ - INFO - دریافت سیگنال 2، شروع خاموش کردن...
2025-09-13 17:18:00,491 - __main__ - INFO - 🛑 شروع فرآیند خاموش کردن ربات...
2025-09-13 17:18:00,493 - gift_monitor - INFO - ⏹️ رصد گیفت‌ها متوقف شد
2025-09-13 17:18:00,494 - notification_engine - INFO - 🛑 موتور اعلان‌رسانی متوقف شد
2025-09-13 17:18:00,571 - __main__ - INFO - ✅ ربات با موفقیت خاموش شد
2025-09-13 17:18:47,317 - telethon.crypto.aes - INFO - libssl detected, it will be used for encryption
2025-09-13 17:18:47,994 - __main__ - INFO - 🚀 شروع مقداردهی ربات...
2025-09-13 17:18:47,998 - __main__ - INFO - ✅ مدیریت دیتابیس راه‌اندازی شد
2025-09-13 17:18:48,002 - __main__ - INFO - ✅ ربات اصلی راه‌اندازی شد
2025-09-13 17:18:48,006 - telethon.network.mtprotosender - INFO - Connecting to 149.154.167.51:443/TcpFull...
2025-09-13 17:18:48,163 - telethon.network.mtprotosender - INFO - Connection to 149.154.167.51:443/TcpFull complete!
2025-09-13 17:18:48,831 - __main__ - WARNING - سشن Telethon یافت نشد. ابتدا telethon_login.py را اجرا کنید تا وارد شوید.
2025-09-13 17:18:48,832 - __main__ - INFO - ✅ مانیتور گیفت راه‌اندازی شد
2025-09-13 17:18:48,838 - __main__ - INFO - ✅ موتور اعلان‌رسانی راه‌اندازی شد
2025-09-13 17:18:48,839 - __main__ - INFO - ✅ پنل ادمین راه‌اندازی شد
2025-09-13 17:18:48,840 - __main__ - INFO - 🎉 مقداردهی ربات با موفقیت تکمیل شد!
2025-09-13 17:18:48,840 - __main__ - INFO - 🔧 تنظیم هندلرها...
2025-09-13 17:18:48,842 - __main__ - INFO - ✅ هندلرها تنظیم شدند
2025-09-13 17:18:48,843 - __main__ - INFO - 🚀 شروع سرویس‌ها...
2025-09-13 17:18:51,172 - __main__ - INFO - ✅ ربات تلگرام شروع شد
2025-09-13 17:18:51,172 - __main__ - INFO - ✅ موتور اعلان‌رسانی شروع شد
2025-09-13 17:18:51,173 - __main__ - INFO - ✅ رصد گیفت‌ها شروع شد
2025-09-13 17:18:51,182 - notification_engine - INFO - 🔔 موتور اعلان‌رسانی شروع شد
2025-09-13 17:18:51,182 - gift_monitor - INFO - 🔍 شروع رصد گیفت‌های ستاره‌ای...
2025-09-13 17:18:51,513 - __main__ - INFO - 🎉 تمام سرویس‌ها با موفقیت شروع شدند!
2025-09-13 17:18:52,083 - gift_monitor - INFO - 📝 139 گیفت موجود یافت شد
2025-09-13 17:19:32,225 - __main__ - INFO - دریافت سیگنال 2، شروع خاموش کردن...
2025-09-13 17:19:32,263 - __main__ - INFO - 🛑 شروع فرآیند خاموش کردن ربات...
2025-09-13 17:19:32,264 - gift_monitor - INFO - ⏹️ رصد گیفت‌ها متوقف شد
2025-09-13 17:19:32,265 - notification_engine - INFO - 🛑 موتور اعلان‌رسانی متوقف شد
2025-09-13 17:19:32,308 - __main__ - INFO - ✅ ربات با موفقیت خاموش شد
2025-09-13 17:19:35,119 - telethon.network.connection.connection - WARNING - Server closed the connection: [Errno 103] Software caused connection abort
2025-09-13 17:19:35,120 - telethon.network.mtprotosender - INFO - Connection closed while receiving data: [Errno 103] Software caused connection abort
2025-09-13 17:19:35,120 - telethon.network.connection.connection - WARNING - Server closed the connection: [Errno 103] Software caused connection abort
2025-09-13 17:19:35,120 - telethon.network.mtprotosender - INFO - Closing current connection to begin reconnect...
2025-09-13 17:19:35,120 - telethon.network.mtprotosender - INFO - Connection closed while receiving data: [Errno 103] Software caused connection abort
2025-09-13 17:19:35,121 - telethon.network.connection.connection - INFO - <class 'ConnectionAbortedError'> during disconnect: [Errno 103] Software caused connection abort
2025-09-13 17:19:35,121 - telethon.network.mtprotosender - INFO - Closing current connection to begin reconnect...
2025-09-13 17:19:35,121 - telethon.network.mtprotosender - INFO - Connecting to 149.154.167.51:443/TcpFull...
2025-09-13 17:19:35,121 - telethon.network.connection.connection - WARNING - Server closed the connection: [Errno 103] Software caused connection abort
2025-09-13 17:19:35,121 - telethon.network.connection.connection - INFO - <class 'ConnectionAbortedError'> during disconnect: [Errno 103] Software caused connection abort
2025-09-13 17:19:35,123 - telethon.network.mtprotosender - INFO - Connecting to 149.154.167.51:443/TcpFull...
2025-09-13 17:19:35,124 - telethon.network.mtprotosender - INFO - Connection closed while receiving data: [Errno 103] Software caused connection abort
